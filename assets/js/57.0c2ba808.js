(window.webpackJsonp=window.webpackJsonp||[]).push([[57],{507:function(t,a,s){"use strict";s.r(a);var e=s(25),n=Object(e.a)({},(function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("p",[s("img",{attrs:{src:"https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/51fcb4def8724a6baa4fb952b4c8c8c7~tplv-k3u1fbpfcp-watermark.image",alt:""}})]),t._v(" "),s("ul",[s("li",[t._v("A与b、c、d为父子关系")]),t._v(" "),s("li",[t._v("b、c、d为兄弟关系")]),t._v(" "),s("li",[t._v("A与b1、b2、c1、c2、d1、d2为隔代关系")])]),t._v(" "),s("h2",{attrs:{id:"一、父子组件"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#一、父子组件"}},[t._v("#")]),t._v(" 一、父子组件")]),t._v(" "),s("h3",{attrs:{id:"_1-父向子传递数据-props"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-父向子传递数据-props"}},[t._v("#")]),t._v(" 1. 父向子传递数据(props)")]),t._v(" "),s("blockquote",[s("p",[t._v("子组件中需要用到父组件中的数据")])]),t._v(" "),s("ul",[s("li",[t._v("子组件："),s("strong",[t._v("js中用props接收")]),s("br"),t._v(" "),s("img",{attrs:{src:"https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/880ff8e99efa4137b3df4853405ef574~tplv-k3u1fbpfcp-watermark.image",alt:""}})]),t._v(" "),s("li",[t._v("父组件："),s("strong",[t._v(":子组件中的变量名")]),t._v(" "),s("strong",[t._v(':要传递的名字="要传递的值"')]),t._v(" "),s("img",{attrs:{src:"https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/d6858375983d4c79903cc2ec374d8471~tplv-k3u1fbpfcp-watermark.image",alt:""}})])]),t._v(" "),s("h3",{attrs:{id:"_2-子向父传递数据-refs-emit"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-子向父传递数据-refs-emit"}},[t._v("#")]),t._v(" 2. 子向父传递数据($refs/$emit)")]),t._v(" "),s("blockquote",[s("p",[t._v("父组件中需要用到子组件中的数据")])]),t._v(" "),s("ul",[s("li",[t._v("情况1：父组件只有在初始化的时候需要获取子组件中的数据，并且数据不再变化\n"),s("strong",[t._v("通过this.$refs.子组件名.数据获取")]),t._v(" "),s("img",{attrs:{src:"https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/6282e672136c49c0a109e7f72cc3addd~tplv-k3u1fbpfcp-watermark.image?",alt:"image.png"}})])]),t._v(" "),s("hr"),t._v(" "),s("ul",[s("li",[t._v("情况2：父组件需要从子组件中获取数据，并且这个数据会受到子组件中的某些操作而发生变化\n"),s("ul",[s("li",[t._v("子组件："),s("strong",[t._v("js中添加自定义事件(this.$emit('event', params))")])]),t._v(" "),s("li",[t._v("父组件："),s("strong",[t._v("js中监听自定义事件(event)，并在父组件中处理该事件")]),t._v(" "),s("strong",[t._v("子组件发射自定义事件")]),t._v(" "),s("img",{attrs:{src:"https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/b6a507b122bf431f877854e5858b280d~tplv-k3u1fbpfcp-watermark.image?",alt:"image.png"}}),t._v(" "),s("img",{attrs:{src:"https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/ec44f3fb9f234a6589f80e5a6e2d8ded~tplv-k3u1fbpfcp-watermark.image?",alt:"image.png"}}),t._v(" "),s("strong",[t._v("父组件监听并处理自定义事件")]),t._v(" "),s("img",{attrs:{src:"https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/f6a858b618224cd5b2ffa7151373a086~tplv-k3u1fbpfcp-watermark.image?",alt:"image.png"}}),t._v(" "),s("img",{attrs:{src:"https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/bcbc6df0937a4f7e810ea4791df3916b~tplv-k3u1fbpfcp-watermark.image?",alt:"image.png"}})])])])]),t._v(" "),s("h3",{attrs:{id:"_3-父组件直接访问子组件中的方法和属性-refs-children"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-父组件直接访问子组件中的方法和属性-refs-children"}},[t._v("#")]),t._v(" 3. 父组件直接访问子组件中的方法和属性($refs $children)")]),t._v(" "),s("ul",[s("li",[s("strong",[t._v("$children")]),t._v("  访问所有子组件")]),t._v(" "),s("li",[s("strong",[t._v("$refs.子组件名.方法")]),t._v("  访问特定的子组件  通过ref给子组件赋予一个ID引用\n"),s("img",{attrs:{src:"https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/b3fb6a1f113042428b9f377b12f13f90~tplv-k3u1fbpfcp-watermark.image",alt:""}}),t._v(" "),s("img",{attrs:{src:"https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/6462f5972e9f41fc9fe13b62e33a37cc~tplv-k3u1fbpfcp-watermark.image",alt:""}})])]),t._v(" "),s("h3",{attrs:{id:"_4-子组件直接访问父组件中的方法和属性-parent-root"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4-子组件直接访问父组件中的方法和属性-parent-root"}},[t._v("#")]),t._v(" 4. 子组件直接访问父组件中的方法和属性($parent $root)")]),t._v(" "),s("ul",[s("li",[s("strong",[t._v("$parent")]),t._v("  访问父组件")]),t._v(" "),s("li",[s("strong",[t._v("$root")]),t._v("  访问根组件\n与$ref类似")])]),t._v(" "),s("h2",{attrs:{id:"二、非父子"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#二、非父子"}},[t._v("#")]),t._v(" 二、非父子")]),t._v(" "),s("p",[s("code",[t._v("1️⃣事件总线、2️⃣VueX、3️⃣混入、4️⃣依赖注入、5️⃣v-model")])]),t._v(" "),s("h3",{attrs:{id:"_1-事件总线eventbus"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-事件总线eventbus"}},[t._v("#")]),t._v(" 1. 事件总线EventBus")]),t._v(" "),s("ul",[s("li",[t._v("总体思路：使用一个空的vue实例作为中央事件总线")]),t._v(" "),s("li",[t._v("原型链")])]),t._v(" "),s("div",{staticClass:"language-JavaScript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Vue")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("prototype"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("$bus "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Vue")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),s("ul",[s("li",[t._v("$emit $on\n"),s("ul",[s("li",[t._v("$emit  触发当前实例上的事件，参数传递给监听自定义事件的函数。")])]),t._v(" "),s("div",{staticClass:"language-JavaScript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("sendMsg")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("$bus"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("$emit")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'send'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'我是HomeChild1发送的消息'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("ul",[s("li",[t._v("$on  监听当前实例上的自定义事件，回调函数接收所有额外参数。")])]),t._v(" "),s("div",{staticClass:"language-JavaScript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("mounted")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("$bus"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("$on")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'send'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("msg")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("msg "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" msg\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])])]),t._v(" "),s("h3",{attrs:{id:"_2-vuex"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-vuex"}},[t._v("#")]),t._v(" 2. Vuex")]),t._v(" "),s("h3",{attrs:{id:"_3-混入"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-混入"}},[t._v("#")]),t._v(" 3. 混入")]),t._v(" "),s("ul",[s("li",[s("strong",[t._v("分为全局混入和局部混入，混入内容与组件自身发生冲突时，以组件自身内容为主")])]),t._v(" "),s("li",[t._v("使用")]),t._v(" "),s("li",[t._v("(1). 定义并导出一个混入对象及内容(data, methods...)")]),t._v(" "),s("li",[t._v("(2). 混入（全局 or 局部）\n"),s("ul",[s("li",[t._v("全局混入：在main.js中通过Vue.mixin混入，不需要在组件中再引入")])]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("Vue.mixin({需要全局混入的内容})\n")])])]),s("ul",[s("li",[t._v("局部混入：需要在组件内部通过mixins: [mixin名字]混入")])]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("mixins: [test] // 将test混入到当前组件\n")])])])])]),t._v(" "),s("h3",{attrs:{id:"_4-依赖注入-provide-inject"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4-依赖注入-provide-inject"}},[t._v("#")]),t._v(" 4. 依赖注入（provide && inject）")]),t._v(" "),s("p",[s("strong",[t._v("优点：")]),s("br"),t._v("\n① 祖先组件不需要知道哪些后代组件使用它提供的 property"),s("br"),t._v("\n② 后代组件不需要知道被注入的 property 来自哪里")]),t._v(" "),s("ul",[s("li",[t._v("数据\n"),s("ul",[s("li",[t._v("父组件：提供一个依赖")])]),t._v(" "),s("div",{staticClass:"language-JavaScript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("provide")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    test"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("test\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("ul",[s("li",[t._v("孙子组件：注入一个依赖")])]),t._v(" "),s("div",{staticClass:"language-JavaScript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[t._v("inject"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'test'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n")])])])]),t._v(" "),s("li",[t._v("方法\n"),s("ul",[s("li",[t._v("同数据")])])])])])}),[],!1,null,null,null);a.default=n.exports}}]);