(window.webpackJsonp=window.webpackJsonp||[]).push([[45],{490:function(t,e,r){"use strict";r.r(e);var v=r(25),i=Object(v.a)({},(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[r("h2",{attrs:{id:"一、双向绑定"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#一、双向绑定"}},[t._v("#")]),t._v(" 一、双向绑定")]),t._v(" "),r("ul",[r("li",[t._v("双向绑定是指视图层和数据层的双项绑定")]),t._v(" "),r("li",[t._v("数据改变，视图同步，"),r("strong",[t._v("model→view")])]),t._v(" "),r("li",[t._v("视图改变，数据同步，"),r("strong",[t._v("view→model")])])]),t._v(" "),r("h2",{attrs:{id:"二、具体实现"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#二、具体实现"}},[t._v("#")]),t._v(" 二、具体实现")]),t._v(" "),r("h3",{attrs:{id:"_1-vue实现双向数据绑定设计模式-数据劫持-发布订阅者模式"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_1-vue实现双向数据绑定设计模式-数据劫持-发布订阅者模式"}},[t._v("#")]),t._v(" 1.Vue实现双向数据绑定设计模式："),r("strong",[t._v("数据劫持+发布订阅者模式")])]),t._v(" "),r("ul",[r("li",[t._v("对象\n"),r("ul",[r("li",[t._v("对象存储是将一个指向对象的指针（即引用）存储在栈中，指针指向真正的存储在堆中的位置")]),t._v(" "),r("li",[t._v("对象的属性描述符分为"),r("strong",[t._v("数据描述符")]),t._v("和"),r("strong",[t._v("存取描述符")]),t._v(" "),r("ul",[r("li",[r("strong",[t._v("数据描述符")]),t._v("：writable(可修改)、enumerable(可枚举)、configurable(可配置)，属性如果是可配置的，就可以使用Object.defineProperty(...)来修改属性描述符")]),t._v(" "),r("li",[r("strong",[t._v("操作描述符")]),t._v("：function get() → getter(获取属性值时调用)、function set → setter(设置属性值时调用)")])])]),t._v(" "),r("li",[t._v("Object.defineProperty\n"),r("ul",[r("li",[t._v("此方法可用来创建、修改、添加多个属性值")])])])])]),t._v(" "),r("li",[t._v("数据劫持\n"),r("ul",[r("li",[t._v("通过定义Object.defineProperty的set函数，当数据发生改变就触发此函数，将处理数据更新的一些方法存在set函数中来实现实时更新。")]),t._v(" "),r("li",[t._v("发布订阅模式：")])])])]),t._v(" "),r("h3",{attrs:{id:"_2-vue中的体现"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_2-vue中的体现"}},[t._v("#")]),t._v(" 2.Vue中的体现")]),t._v(" "),r("ul",[r("li",[t._v("视图改变，数据同步\n"),r("ul",[r("li",[t._v("视图改变，数据同步使用事件绑定实现")])])]),t._v(" "),r("li",[t._v("数据改变，视图同步\n"),r("ul",[r("li",[t._v("主要通过Observer(监听器)、Dep(消息订阅器)、Watcher(订阅者)、Compiler(解析器)\n"),r("img",{attrs:{src:"https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/4f1659cddfca44b5a27fc96fe4c9506b~tplv-k3u1fbpfcp-watermark.image",alt:""}})])])]),t._v(" "),r("li",[t._v("具体过程\n"),r("ul",[r("li",[t._v("编译器首先根据元数据初始化视图，并且将更新函数绑定到订阅者上，一个属性对应一个订阅者，消息订阅器负责把一个个订阅者收集起来，一旦监听器发现属性中有发生变化的，就将变化通知给对应的消息订阅器，订阅器找到对应的订阅者调用他的更新函数，实现视图的更新。")]),t._v(" "),r("li",[r("strong",[t._v("Vue 2-：Objec.defineProperty")])]),t._v(" "),r("li",[r("strong",[t._v("Vue 3+: proxy")]),t._v(" "),r("ul",[r("li",[t._v("proxy：ES6新增方法，用来修改某些操作的默认行为")]),t._v(" "),r("li",[t._v("参数：支持两个参数\n"),r("ul",[r("li",[t._v("参数1：target（目标对象）")]),t._v(" "),r("li",[t._v("参数2：prop（配置对象，对每一个需要代理的操作，提供一个处理函数，共13种，包括"),r("strong",[t._v("get、set、has、deleteProperty、ownKeys、getOwnPropertyDescriptor、defineProperty、preventExtensions、getprototypeOf、isExtensible、setPrototypeOf、apply、construct")]),t._v("）\n"),r("img",{attrs:{src:"https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/fa52109f69014bc9a7aab8dfbea4f2d5~tplv-k3u1fbpfcp-watermark.image?",alt:"image.png"}}),t._v(" "),r("img",{attrs:{src:"https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/42bcfcfa177f42c4a24fbea599105d99~tplv-k3u1fbpfcp-watermark.image?",alt:"image.png"}})])])])])]),t._v(" "),r("li",[t._v("两者区别\n"),r("img",{attrs:{src:"https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/7a7bac00c4a8438cb66747eb3938e631~tplv-k3u1fbpfcp-watermark.image",alt:""}})])])])])])}),[],!1,null,null,null);e.default=i.exports}}]);