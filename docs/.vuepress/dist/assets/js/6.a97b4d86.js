(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{442:function(t,s,a){t.exports=a.p+"assets/img/closure.79daef92.png"},470:function(t,s,a){"use strict";a.r(s);var n=a(25),r=Object(n.a)({},(function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[n("h2",{attrs:{id:"一、闭包"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#一、闭包"}},[t._v("#")]),t._v(" 一、闭包")]),t._v(" "),n("h3",{attrs:{id:"_1-什么是闭包"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_1-什么是闭包"}},[t._v("#")]),t._v(" 1. 什么是闭包？")]),t._v(" "),n("ul",[n("li",[t._v("闭包是返回函数的时候扫描函数内的标识符引用，把用到的本作用域的变量打成闭包，放到了一个特殊的属性（"),n("strong",[t._v("[[Scopes]]")]),t._v("）里，是作用域的子集")])]),t._v(" "),n("h3",{attrs:{id:"_2-为什么会有闭包"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_2-为什么会有闭包"}},[t._v("#")]),t._v(" 2. 为什么会有闭包？")]),t._v(" "),n("ul",[n("li",[t._v("变量和函数按照作用域规则（顺序）访问，当内部函数返回一个函数或者在作用域之外可以被访问，外层作用域调用完毕后应该被销毁，外层销毁之后内层作用域怎么处理，因此创建了闭包用来保存子作用域需要用到的父作用域中的引用")])]),t._v(" "),n("h3",{attrs:{id:"_3-闭包是怎么设计的"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_3-闭包是怎么设计的"}},[t._v("#")]),t._v(" 3. 闭包是怎么设计的")]),t._v(" "),n("ul",[n("li",[t._v("设置了一个特殊的属性[[Scopes]]（栈结构）用来保存当前函数需要用到的外部引用")]),t._v(" "),n("li",[t._v("通过过滤规则保存\n"),n("ul",[n("li",[t._v("必须包含全局作用域")]),t._v(" "),n("li",[t._v("其他作用域中的变量根据是否引用来保存，引用的保存，不引用的不保存")])])])]),t._v(" "),n("h3",{attrs:{id:"_4-闭包的常见使用场景"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_4-闭包的常见使用场景"}},[t._v("#")]),t._v(" 4. 闭包的常见使用场景")]),t._v(" "),n("ul",[n("li",[n("strong",[t._v("使用了回调函数就是在使用闭包")])]),t._v(" "),n("li",[t._v("定时器")]),t._v(" "),n("li",[t._v("事件监听器")]),t._v(" "),n("li",[t._v("Ajax请求")]),t._v(" "),n("li",[t._v("跨窗口通信")]),t._v(" "),n("li",[t._v("web workers")]),t._v(" "),n("li",[t._v("防抖")]),t._v(" "),n("li",[t._v("模块")])]),t._v(" "),n("h3",{attrs:{id:"_5-闭包的优缺点"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_5-闭包的优缺点"}},[t._v("#")]),t._v(" 5. 闭包的优缺点")]),t._v(" "),n("ul",[n("li",[t._v("优点\n"),n("ul",[n("li",[t._v("避免过度使用全局变量，防止全局变量污染")])])]),t._v(" "),n("li",[t._v("缺点\n"),n("ul",[n("li",[t._v("一直保留这闭包会对内存造成内存持续消耗，继而影响处理速度，代码性能")])])])]),t._v(" "),n("h2",{attrs:{id:"二、面试题"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#二、面试题"}},[t._v("#")]),t._v(" 二、面试题")]),t._v(" "),n("h3",{attrs:{id:"_1-看看-scopes"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_1-看看-scopes"}},[t._v("#")]),t._v(" 1. 看看[[Scopes]]")]),t._v(" "),n("div",{staticClass:"language-JavaScript extra-class"},[n("pre",{pre:!0,attrs:{class:"language-javascript"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("func")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" a "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'a'")]),t._v("\n\t"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("func2")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t\t"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" b "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'b'")]),t._v("\n\t\t"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("func3")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t\t\t"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" c "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'c'")]),t._v("\n\t\t\tconsole"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("a"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t\t\tconsole"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("b"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t\t\tconsole"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("c"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t\t"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\t\t"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" func3\n\t"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\t"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" func2\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" func2 "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("func")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" func3 "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("func2")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("func3")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nconsole"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("func2"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("prototype"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nconsole"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("func3"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("prototype"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),n("p",[n("img",{attrs:{src:a(442),alt:"闭包"}})])])}),[],!1,null,null,null);s.default=r.exports}}]);