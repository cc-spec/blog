---
title: 闭包
author: cc
date: '2021-12-21'
---

# 一、闭包
## 1. 什么是闭包？
- MDN：闭包是由函数以及声明该函数的词法环境组合而成的
- 产生：函数可以记住并访问所在的词法作用域时产生
- 作用：阻止垃圾回收器对不再使用的内存的回收，函数可以在自己的词法作用域外被使用
## 2. 为什么会有闭包？
- 变量和函数按照作用域规则（顺序）访问，当内部函数返回一个函数或者在作用域之外可以被访问，外层作用域调用完毕后应该被销毁，外层销毁之后内层作用域怎么处理，因此创建了闭包用来保存子作用域需要用到的父作用域中的引用
## 3. 闭包的常见使用场景
- **使用了回调函数就是在使用闭包**
- 定时器
- 事件监听器
- Ajax请求
- 跨窗口通信
- web workers
- 防抖
- 模块
 ## 4. 闭包的优缺点
- 优点
	- 避免过度使用全局变量，防止全局变量污染
- 缺点
	- 一直保留这闭包会对内存造成持续消耗，继而影响处理速度，代码性能